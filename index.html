<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculate Biomass with the Best Available Allometries • fgeo.biomass</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Calculate Biomass with the Best Available Allometries">
<meta property="og:description" content="Calculate biomass with the best available allometries.
    allodb package.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fgeo.biomass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.biomass">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="calculate-biomass" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#calculate-biomass" class="anchor"></a><img src="https://i.imgur.com/vTLlhbp.png" align="right" height="88"> Calculate biomass</h1></div>

<p>The goal of <strong>fgeo.biomass</strong> is to calculate biomass using allometric equations from the <strong>allodb</strong> package.</p>
<div id="warning" class="section level2">
<h2 class="hasAnchor">
<a href="#warning" class="anchor"></a>Warning</h2>
<p>This package is not ready for research. This is work in progress and you are encouraged to try this package and suggest improvements but you should not trust the results yet.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of <strong>fgeo.biomass</strong>:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports"># install.packages("devtools")
devtools::install_github("forestgeo/fgeo.biomass")</a></code></pre>
<p>For details on how to install packages from GitHub, see <a href="https://goo.gl/dQKEeg">this article</a>.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(fgeo.biomass)</a></code></pre></div>
<div id="overview" class="section level3">
<h3 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">census &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_tree1</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">species &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_species</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">census_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species, <span class="st">"scbi"</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">census_species</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; # A tibble: 40,283 x 4</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;    rowid site  sp                     dbh</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  * &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  1     1 scbi  lindera benzoin       27.9</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  2     2 scbi  lindera benzoin       23.7</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  3     3 scbi  lindera benzoin       22.2</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  4     4 scbi  nyssa sylvatica      135  </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  5     5 scbi  hamamelis virginiana  87  </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  6     6 scbi  hamamelis virginiana  22.5</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  7     7 scbi  unidentified unk      42.6</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;  8     8 scbi  lindera benzoin       51.4</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt;  9     9 scbi  viburnum prunifolium  38.3</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; 10    10 scbi  asimina triloba       14.5</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; # … with 40,273 more rows</span></a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">species_overwrites_genus &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"species"</span>, <span class="st">"genus"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>(species_overwrites_genus) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; # A tibble: 14,572 x 9</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;    eqn_type rowid site  sp        dbh equation_id eqn    eqn_source biomass</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  1 species      4 scbi  nyssa … 135   8da09d      1.541… default    1.10e12</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  2 species     21 scbi  liriod… 232.  34fe5a      1.025… default    2.99e 6</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  3 species     29 scbi  acer r… 326.  7c72ed      exp(4… default    1.26e 8</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  4 species     38 scbi  fraxin…  42.8 0edaff      0.163… default    1.11e 3</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  5 species     72 scbi  acer r… 289.  7c72ed      exp(4… default    9.38e 7</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  6 species     77 scbi  quercu… 636.  07dba7      1.564… default    5.41e 7</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;  7 species     79 scbi  tilia … 475   3f99ba      1.441… default    2.97e 7</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt;  8 species     79 scbi  tilia … 475   76d19b      0.004… default    1.97e 3</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt;  9 species     84 scbi  fraxin… 170.  0edaff      0.163… default    2.81e 4</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 10 species     89 scbi  fagus …  27.2 74186d      2.039… default    9.97e 3</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; # … with 14,562 more rows</span></a></code></pre></div>
</div>
<div id="step-by-step" class="section level3">
<h3 class="hasAnchor">
<a href="#step-by-step" class="anchor"></a>Step by step</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">census &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_tree1</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">dbh_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species, <span class="dt">site =</span> <span class="st">"scbi"</span>)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">dbh_species</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; # A tibble: 40,283 x 4</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;    rowid site  sp                     dbh</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  * &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  1     1 scbi  lindera benzoin       27.9</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  2     2 scbi  lindera benzoin       23.7</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  3     3 scbi  lindera benzoin       22.2</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  4     4 scbi  nyssa sylvatica      135  </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  5     5 scbi  hamamelis virginiana  87  </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;  6     6 scbi  hamamelis virginiana  22.5</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;  7     7 scbi  unidentified unk      42.6</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;  8     8 scbi  lindera benzoin       51.4</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;  9     9 scbi  viburnum prunifolium  38.3</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; 10    10 scbi  asimina triloba       14.5</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt; # … with 40,273 more rows</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"></a>
<a class="sourceLine" id="cb5-22" data-line-number="22">equations &lt;-<span class="st"> </span>dbh_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>()</a>
<a class="sourceLine" id="cb5-24" data-line-number="24"></a>
<a class="sourceLine" id="cb5-25" data-line-number="25">equations</a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;   eqn_type       data                 </span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;               </span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 7]&gt; </span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt; 2 genus          &lt;tibble [5,642 × 7]&gt; </span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt; 3 mixed_hardwood &lt;tibble [5,516 × 7]&gt; </span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt; 4 family         &lt;tibble [10,141 × 7]&gt;</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt; 5 woody_species  &lt;tibble [0 × 7]&gt;</span></a></code></pre></div>
</div>
<div id="general-manipulation-of-equations" class="section level3">
<h3 class="hasAnchor">
<a href="#general-manipulation-of-equations" class="anchor"></a>General manipulation of equations</h3>
<p>You can use general purpose tools to manipulate the nested dataframe of equations. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(eqn_type <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"species"</span>, <span class="st">"mixed_hardwood"</span>))</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;   eqn_type       data                </span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;              </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 7]&gt;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 2 mixed_hardwood &lt;tibble [5,516 × 7]&gt;</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co"># Same</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;   eqn_type       data                </span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;              </span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 7]&gt;</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; 2 mixed_hardwood &lt;tibble [5,516 × 7]&gt;</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"></a>
<a class="sourceLine" id="cb6-18" data-line-number="18">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/unnest.html">unnest</a></span>()</a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; # A tibble: 14,446 x 8</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt;    eqn_type rowid site  sp           dbh equation_id eqn         eqn_source</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt;  1 species      4 scbi  nyssa syl… 135   8da09d      1.5416 * (… default   </span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt;  2 species     21 scbi  liriodend… 232.  34fe5a      1.0259 * (… default   </span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt;  3 species     29 scbi  acer rubr… 326.  7c72ed      exp(4.5893… default   </span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt;  4 species     38 scbi  fraxinus …  42.8 0edaff      0.1634 * (… default   </span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt;  5 species     72 scbi  acer rubr… 289.  7c72ed      exp(4.5893… default   </span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt;  6 species     77 scbi  quercus a… 636.  07dba7      1.5647 * (… default   </span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt;  7 species     79 scbi  tilia ame… 475   3f99ba      1.4416 * (… default   </span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt;  8 species     79 scbi  tilia ame… 475   76d19b      0.004884 *… default   </span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt;  9 species     84 scbi  fraxinus … 170.  0edaff      0.1634 * (… default   </span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt; 10 species     89 scbi  fagus gra…  27.2 74186d      2.0394 * (… default   </span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt; # … with 14,436 more rows</span></a></code></pre></div>
</div>
<div id="prioritize-equations" class="section level3">
<h3 class="hasAnchor">
<a href="#prioritize-equations" class="anchor"></a>Prioritize equations</h3>
<p>You can prioritize available equations by setting the order in which equations of different types overwrite each other. Here is a toy example to show how this works.</p>
<ul>
<li>Toy data.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">toy_equations &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="op">~</span>eqn,       <span class="op">~</span>dbh,  <span class="op">~</span>eqn_type, <span class="op">~</span>rowid, <span class="op">~</span>where,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="st">"dbh + 1"</span>,    <span class="dv">10</span>,  <span class="st">"species"</span>,      <span class="dv">1</span>, <span class="st">"rowid only in species"</span>,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  <span class="st">"dbh + 1"</span>,    <span class="dv">10</span>,  <span class="st">"species"</span>,      <span class="dv">3</span>, <span class="st">"rowid in both: lhs overwrites rhs"</span>,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  <span class="st">"dbh + 2"</span>,    <span class="dv">10</span>,  <span class="st">"genus"</span>,        <span class="dv">2</span>, <span class="st">"rowid only in genus"</span>,</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">  <span class="st">"dbh + 2"</span>,    <span class="dv">10</span>,  <span class="st">"genus"</span>,        <span class="dv">3</span>, <span class="st">"rowid in both: lhs overwrites rhs"</span>,</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">toy_equations</a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; # A tibble: 4 x 5</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;   eqn       dbh eqn_type rowid where                            </span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;                            </span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; 1 dbh + 1    10 species      1 rowid only in species            </span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; 2 dbh + 1    10 species      3 rowid in both: lhs overwrites rhs</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; 3 dbh + 2    10 genus        2 rowid only in genus              </span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; 4 dbh + 2    10 genus        3 rowid in both: lhs overwrites rhs</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"></a>
<a class="sourceLine" id="cb7-18" data-line-number="18">toy_nested &lt;-<span class="st"> </span>toy_equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/nest.html">nest</a></span>(<span class="op">-</span>eqn_type)</a>
<a class="sourceLine" id="cb7-20" data-line-number="20"></a>
<a class="sourceLine" id="cb7-21" data-line-number="21">toy_nested</a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co">#&gt;   eqn_type data            </span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co">#&gt;   &lt;chr&gt;    &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="co">#&gt; 1 species  &lt;tibble [2 × 4]&gt;</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="co">#&gt; 2 genus    &lt;tibble [2 × 4]&gt;</span></a></code></pre></div>
<ul>
<li>Alternative results (compare first rows).</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">species_overwrites_genus &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"species"</span>, <span class="st">"genus"</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>(toy_nested, <span class="dt">order =</span> species_overwrites_genus)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; # A tibble: 3 x 5</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt;   eqn_type eqn       dbh rowid where                            </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                            </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; 1 species  dbh + 1    10     3 rowid in both: lhs overwrites rhs</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; 2 species  dbh + 1    10     1 rowid only in species            </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt; 3 genus    dbh + 2    10     2 rowid only in genus</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"></a>
<a class="sourceLine" id="cb8-11" data-line-number="11">genus_overwrites_species &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"genus"</span>, <span class="st">"species"</span>)</a>
<a class="sourceLine" id="cb8-12" data-line-number="12"></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>(toy_nested, <span class="dt">order =</span> genus_overwrites_species)</a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt; # A tibble: 3 x 5</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;   eqn_type eqn       dbh rowid where                            </span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                            </span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; 1 genus    dbh + 2    10     3 rowid in both: lhs overwrites rhs</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; 2 genus    dbh + 2    10     2 rowid only in genus              </span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; 3 species  dbh + 1    10     1 rowid only in species</span></a></code></pre></div>
</div>
<div id="calculate-biomass-1" class="section level3">
<h3 class="hasAnchor">
<a href="#calculate-biomass-1" class="anchor"></a>Calculate biomass</h3>
<p>Calculate biomass by evaluating each allometric equations using its corresponding <code>dbh</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">best &lt;-<span class="st"> </span>equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>()</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">best</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt; # A tibble: 30,229 x 8</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;    eqn_type rowid site  sp         dbh equation_id eqn           eqn_source</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt;  1 family       1 scbi  lindera…  27.9 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt;  2 family       2 scbi  lindera…  23.7 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt;  3 family       3 scbi  lindera…  22.2 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;  4 family       8 scbi  lindera…  51.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;  5 family      13 scbi  lindera…  15.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  6 family      14 scbi  lindera…  14.8 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  7 family      15 scbi  lindera…  15.5 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt;  8 family      16 scbi  lindera…  17.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt;  9 family      17 scbi  lindera…  68.2 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt; 10 family      18 scbi  lindera…  19.3 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt; # … with 30,219 more rows</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"></a>
<a class="sourceLine" id="cb9-20" data-line-number="20">with_biomass &lt;-<span class="st"> </span>best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb9-22" data-line-number="22"></a>
<a class="sourceLine" id="cb9-23" data-line-number="23">with_biomass</a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="co">#&gt; # A tibble: 30,229 x 9</span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="co">#&gt;    eqn_type rowid site  sp       dbh equation_id eqn     eqn_source biomass</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="co">#&gt;  1 family       1 scbi  linde…  27.9 f08fff      exp(-2… default      337. </span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="co">#&gt;  2 family       2 scbi  linde…  23.7 f08fff      exp(-2… default      228. </span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="co">#&gt;  3 family       3 scbi  linde…  22.2 f08fff      exp(-2… default      194. </span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="co">#&gt;  4 family       8 scbi  linde…  51.4 f08fff      exp(-2… default     1474. </span></a>
<a class="sourceLine" id="cb9-31" data-line-number="31"><span class="co">#&gt;  5 family      13 scbi  linde…  15.4 f08fff      exp(-2… default       80.4</span></a>
<a class="sourceLine" id="cb9-32" data-line-number="32"><span class="co">#&gt;  6 family      14 scbi  linde…  14.8 f08fff      exp(-2… default       73.0</span></a>
<a class="sourceLine" id="cb9-33" data-line-number="33"><span class="co">#&gt;  7 family      15 scbi  linde…  15.5 f08fff      exp(-2… default       81.7</span></a>
<a class="sourceLine" id="cb9-34" data-line-number="34"><span class="co">#&gt;  8 family      16 scbi  linde…  17.4 f08fff      exp(-2… default      108. </span></a>
<a class="sourceLine" id="cb9-35" data-line-number="35"><span class="co">#&gt;  9 family      17 scbi  linde…  68.2 f08fff      exp(-2… default     2917. </span></a>
<a class="sourceLine" id="cb9-36" data-line-number="36"><span class="co">#&gt; 10 family      18 scbi  linde…  19.3 f08fff      exp(-2… default      139. </span></a>
<a class="sourceLine" id="cb9-37" data-line-number="37"><span class="co">#&gt; # … with 30,219 more rows</span></a></code></pre></div>
<p>Summarize your results as you would normally do with general purpose tools.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">with_biomass <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(sp) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="dt">total_biomass =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(biomass, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(total_biomass))</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; # A tibble: 52 x 2</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt;    sp                      total_biomass</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;                           &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt;  1 platanus occidentalis         2.24e17</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;  2 nyssa sylvatica               5.07e16</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt;  3 liriodendron tulipifera       4.63e10</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt;  4 acer rubrum                   1.31e10</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt;  5 quercus alba                  1.26e10</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt;  6 quercus falcata               9.21e 9</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt;  7 quercus velutina              7.47e 9</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;  8 sassafras albidum             6.37e 9</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">#&gt;  9 quercus rubra                 4.64e 9</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">#&gt; 10 fraxinus americana            2.80e 9</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">#&gt; # … with 42 more rows</span></a></code></pre></div>
</div>
<div id="memoization" class="section level3">
<h3 class="hasAnchor">
<a href="#memoization" class="anchor"></a>Memoization</h3>
<blockquote>
<p>If a function is called multiple times with the same input, you can often speed things up by keeping a cache of known answers that it can retrieve. This is called memoisation <a href="http://en.wikipedia.org/wiki/Memoization" class="uri">http://en.wikipedia.org/wiki/Memoization</a>.</p>
</blockquote>
<p>– <a href="https://github.com/r-lib/memoise" class="uri">https://github.com/r-lib/memoise</a></p>
<p>Because <code><a href="reference/allo_evaluate.html">allo_evaluate()</a></code> can be slow, its result is stored and reused after the first time you run it.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># Clear cache to show how it works</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">memoise<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/memoise/topics/forget">forget</a></span>(allo_evaluate)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co"># `allo_evaluate()` may be slow the first time you run it</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>(<span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>(best))</a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;   1.136   0.000   1.138</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9">memoise<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/memoise/topics/is.memoised">is.memoised</a></span>(allo_evaluate)</a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co"># Calls after the first one take almost no time</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>(<span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>(best))</a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;   0.032   0.000   0.034</span></a></code></pre></div>
</div>
<div id="known-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#known-issues" class="anchor"></a>Known issues</h3>
<p>Right now there may be multiple rows per <code>rowid</code>. This is because, for a single stem, there may be multiple equations to reflect the allometries of different parts of the stem. <strong>fgeo.biomass</strong> doesn’t deal with this issue yet but helps you find them.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_find_duplicated_rowid</a></span>()</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1,809 x 9</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt;    eqn_type rowid site  sp        dbh equation_id eqn      eqn_source     n</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;int&gt;</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt;  1 genus      106 scbi  amelan…  13.8 c59e03      exp(7.2… default        3</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt;  2 genus      106 scbi  amelan…  13.8 96c0af      10^(2.5… default        3</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;  3 genus      106 scbi  amelan…  13.8 529234      10^(2.0… default        3</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt;  4 genus      125 scbi  amelan…  36.1 c59e03      exp(7.2… default        3</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt;  5 genus      125 scbi  amelan…  36.1 96c0af      10^(2.5… default        3</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt;  6 genus      125 scbi  amelan…  36.1 529234      10^(2.0… default        3</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt;  7 genus      131 scbi  amelan…  79.1 c59e03      exp(7.2… default        3</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt;  8 genus      131 scbi  amelan…  79.1 96c0af      10^(2.5… default        3</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt;  9 genus      131 scbi  amelan…  79.1 529234      10^(2.0… default        3</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; 10 genus      132 scbi  amelan…  24   c59e03      exp(7.2… default        3</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; # … with 1,799 more rows</span></a></code></pre></div>
<p>Here you enter the danger zone. <strong>fgeo.biomass</strong> provides a quick and dirty way of getting a single equation per stem.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">danger &lt;-<span class="st"> </span>best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_pick_one_row_by_rowid</a></span>()</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">danger</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt; # A tibble: 29,203 x 8</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;    eqn_type rowid site  sp         dbh equation_id eqn           eqn_source</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  1 family       1 scbi  lindera…  27.9 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  2 family       2 scbi  lindera…  23.7 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  3 family       3 scbi  lindera…  22.2 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  4 family       8 scbi  lindera…  51.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  5 family      13 scbi  lindera…  15.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  6 family      14 scbi  lindera…  14.8 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;  7 family      15 scbi  lindera…  15.5 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt;  8 family      16 scbi  lindera…  17.4 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt;  9 family      17 scbi  lindera…  68.2 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; 10 family      18 scbi  lindera…  19.3 f08fff      exp(-2.2118 … default   </span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt; # … with 29,193 more rows</span></a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># No longer has duplicated rowid</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">danger <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_find_duplicated_rowid</a></span>()</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt; # A tibble: 0 x 9</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt; # … with 9 variables: eqn_type &lt;chr&gt;, rowid &lt;int&gt;, site &lt;chr&gt;, sp &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; #   dbh &lt;dbl&gt;, equation_id &lt;chr&gt;, eqn &lt;chr&gt;, eqn_source &lt;chr&gt;, n &lt;int&gt;</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">danger <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; # A tibble: 29,203 x 9</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt;    eqn_type rowid site  sp       dbh equation_id eqn     eqn_source biomass</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt;  1 family       1 scbi  linde…  27.9 f08fff      exp(-2… default      337. </span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt;  2 family       2 scbi  linde…  23.7 f08fff      exp(-2… default      228. </span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt;  3 family       3 scbi  linde…  22.2 f08fff      exp(-2… default      194. </span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt;  4 family       8 scbi  linde…  51.4 f08fff      exp(-2… default     1474. </span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt;  5 family      13 scbi  linde…  15.4 f08fff      exp(-2… default       80.4</span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="co">#&gt;  6 family      14 scbi  linde…  14.8 f08fff      exp(-2… default       73.0</span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="co">#&gt;  7 family      15 scbi  linde…  15.5 f08fff      exp(-2… default       81.7</span></a>
<a class="sourceLine" id="cb14-20" data-line-number="20"><span class="co">#&gt;  8 family      16 scbi  linde…  17.4 f08fff      exp(-2… default      108. </span></a>
<a class="sourceLine" id="cb14-21" data-line-number="21"><span class="co">#&gt;  9 family      17 scbi  linde…  68.2 f08fff      exp(-2… default     2917. </span></a>
<a class="sourceLine" id="cb14-22" data-line-number="22"><span class="co">#&gt; 10 family      18 scbi  linde…  19.3 f08fff      exp(-2… default      139. </span></a>
<a class="sourceLine" id="cb14-23" data-line-number="23"><span class="co">#&gt; # … with 29,193 more rows</span></a></code></pre></div>
</div>
<div id="add-equations-for-each-row-of-your-census-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#add-equations-for-each-row-of-your-census-dataset" class="anchor"></a>Add equations for each row of your census dataset</h3>
<p>The <code>rowid</code>s were generated from the row-names of your original census data. Now that you have a single row per <code>rowid</code>, you can add the equations to your census data.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">census_equations &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/add_equations.html">add_equations</a></span>(danger)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; Joining, by = "rowid"</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"></a>
<a class="sourceLine" id="cb15-5" data-line-number="5">census_equations</a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; # A tibble: 40,283 x 23</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;    rowid treeID stemID tag   StemTag sp    quadrat    gx    gy DBHID</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  1     1      1      1 10079 1       libe  0104     3.70  73       1</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  2     2      2      2 10168 1       libe  0103    17.3   58.9     3</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  3     3      3      3 10567 1       libe  0110     9    197.      5</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;  4     4      4      4 12165 1       nysy  0122    14.2  428.      7</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;  5     5      5      5 12190 1       havi  0122     9.40 436.      9</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt;  6     6      6      6 12192 1       havi  0122     1.30 434      13</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt;  7     7      7      7 12212 1       unk   0123    17.8  447.     15</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;  8     8      8      8 12261 1       libe  0125    18    484.     17</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt;  9     9      9      9 12456 1       vipr  0130    18    598.     19</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; 10    10     10     10 12551 1       astr  0132     5.60 628.     22</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; # … with 40,273 more rows, and 13 more variables: CensusID &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; #   dbh &lt;dbl&gt;, pom &lt;chr&gt;, hom &lt;dbl&gt;, ExactDate &lt;chr&gt;, DFstatus &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; #   codes &lt;chr&gt;, nostems &lt;dbl&gt;, date &lt;dbl&gt;, status &lt;chr&gt;, agb &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; #   eqn &lt;chr&gt;, equation_id &lt;chr&gt;</span></a></code></pre></div>
<p>If you need more information about each equation, you can look it up in <strong>allodb</strong>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">census_equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_lookup.html">allo_lookup</a></span>(allodb<span class="op">::</span>equations)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt; Joining, by = "equation_id"</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; # A tibble: 40,283 x 23</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt;    rowid equation_id ref_id equation_allome… equation_form dependent_varia…</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt;  1     1 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt;  2     2 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt;  3     3 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt;  4     4 8da09d      jenki… 1.5416*(dbh^2)^… a*(DBH^2)^b   Stem and branch…</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt;  5     5 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt;  6     6 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">#&gt;  7     7 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co">#&gt;  8     8 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co">#&gt;  9     9 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co">#&gt; 10    10 ae65ed      jenki… exp(-2.48+2.483… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co">#&gt; # … with 40,273 more rows, and 17 more variables:</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18"><span class="co">#&gt; #   independent_variable &lt;chr&gt;, allometry_specificity &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="co">#&gt; #   geographic_area &lt;chr&gt;, dbh_min_cm &lt;chr&gt;, dbh_max_cm &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20"><span class="co">#&gt; #   sample_size &lt;chr&gt;, dbh_units_original &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-21" data-line-number="21"><span class="co">#&gt; #   biomass_units_original &lt;chr&gt;, allometry_development_method &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-22" data-line-number="22"><span class="co">#&gt; #   regression_model &lt;chr&gt;, other_equations_tested &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-23" data-line-number="23"><span class="co">#&gt; #   log_biomass &lt;chr&gt;, bias_corrected &lt;chr&gt;, bias_correction_factor &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-24" data-line-number="24"><span class="co">#&gt; #   notes_fitting_model &lt;chr&gt;, original_data_availability &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-25" data-line-number="25"><span class="co">#&gt; #   warning &lt;chr&gt;</span></a></code></pre></div>
</div>
<div id="possible-improvements" class="section level3">
<h3 class="hasAnchor">
<a href="#possible-improvements" class="anchor"></a>Possible improvements</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># Stays as is</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">census_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4"></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co"># New single interface to automatically calculates biomass</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="st">  </span><span class="kw">auto_biomass</span>()</a>
<a class="sourceLine" id="cb17-8" data-line-number="8"></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co"># New single interface to automatically add equations to a census dataframe</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="st">  </span><span class="kw">auto_equations</span>()</a></code></pre></div>
<ul>
<li>New <code>allo_customize()</code> to insert custom equations.</li>
</ul>
<p>Some other possible improvements:</p>
<ul>
<li>Allow using ViewFullTable and ViewTaxonomy.</li>
<li>Allow using any table with the required columns.</li>
<li>Simplify interfaces via generic functions that <em>know</em> what to do with different (S3) classes of ForestGEO data – i.e. census and species tables; ViewFullTable and ViewTaxonomy tables; or any two tables of unknown class.</li>
</ul>
</div>
<div id="fgeo-biomass-and-allodb" class="section level3">
<h3 class="hasAnchor">
<a href="#fgeo-biomass-and-allodb" class="anchor"></a>fgeo.biomass and allodb</h3>
<p>Allometric equations come from the <strong>allodb</strong> package.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># Internal</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">fgeo.biomass<span class="op">:::</span>.default_eqn</a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">#&gt; # A tibble: 619 x 6</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">#&gt;    equation_id site     sp           eqn                eqn_source eqn_type</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#&gt;  1 2060ea      lilly d… acer rubrum  10^(1.1891 + 1.41… default    species </span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">#&gt;  2 2060ea      tyson    acer rubrum  10^(1.1891 + 1.41… default    species </span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">#&gt;  3 a4d879      lilly d… acer saccha… 10^(1.2315 + 1.63… default    species </span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">#&gt;  4 a4d879      tyson    acer saccha… 10^(1.2315 + 1.63… default    species </span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">#&gt;  5 c59e03      lilly d… amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co">#&gt;  6 c59e03      scbi     amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="co">#&gt;  7 c59e03      serc     amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">#&gt;  8 c59e03      serc     amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-14" data-line-number="14"><span class="co">#&gt;  9 c59e03      tyson    amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-15" data-line-number="15"><span class="co">#&gt; 10 c59e03      umbc     amelanchier… exp(7.217 + 1.514… default    genus   </span></a>
<a class="sourceLine" id="cb18-16" data-line-number="16"><span class="co">#&gt; # … with 609 more rows</span></a></code></pre></div>
<p>For now we are excluding some equations.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co"># Internal</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">excluding &lt;-<span class="st"> </span>fgeo.biomass<span class="op">:::</span>.bad_eqn_id</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"></a>
<a class="sourceLine" id="cb19-4" data-line-number="4">allodb<span class="op">::</span>equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(equation_id <span class="op">%in%</span><span class="st"> </span>excluding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(equation_id, equation_allometry)</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">#&gt; # A tibble: 25 x 2</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">#&gt;    equation_id equation_allometry         </span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                      </span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#&gt;  1 76aa3c      38.111*(dba^2.9)           </span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">#&gt;  2 28dce6      51.996*(dba^2.77)          </span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">#&gt;  3 a1646f      37.637*(dba^2.779)         </span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">#&gt;  4 b61369      43.992*(dba^2.86)          </span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">#&gt;  5 5e2dea      29.615*(dba^3.243)         </span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">#&gt;  6 3cb95a      exp(2.025+3.527*log(dba))  </span></a>
<a class="sourceLine" id="cb19-16" data-line-number="16"><span class="co">#&gt;  7 c94845      51.68+0.02*BA              </span></a>
<a class="sourceLine" id="cb19-17" data-line-number="17"><span class="co">#&gt;  8 6b3b2a      exp(3.67+2.847*log(dba))   </span></a>
<a class="sourceLine" id="cb19-18" data-line-number="18"><span class="co">#&gt;  9 b95baf      exp(3.892+3.122*log(dba))  </span></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co">#&gt; 10 e8f868      exp(3.6123+2.9944*log(dba))</span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="co">#&gt; # … with 15 more rows</span></a></code></pre></div>
</div>
</div>
<div id="information" class="section level2">
<h2 class="hasAnchor">
<a href="#information" class="anchor"></a>Information</h2>
<ul>
<li>
<a href="SUPPORT.html">Getting help</a>.</li>
<li>
<a href="CONTRIBUTING.html">Contributing</a>.</li>
<li>
<a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/forestgeo/fgeo.biomass">https://​github.com/​forestgeo/​fgeo.biomass</a>
</li>
<li>Report a bug at <br><a href="https://github.com/forestgeo/fgeo.biomass/issues">https://​github.com/​forestgeo/​fgeo.biomass/​issues</a>
</li>
<li>Learn more about ForestGEO at <br><a href="http://www.forestgeo.si.edu/">http://​www.forestgeo.si.edu/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/maurolepore">Mauro Lepore</a> <br><small class="roles"> Author, contractor, maintainer </small> <a href="https://orcid.org/0000-0002-1986-7988" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>
<a href="https://forestgeo.si.edu/arellano-gabriel">Gabriel Arellano</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/stuart-j-davies">Stuart Davies</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://github.com/gonzalezeb">Erika Gonzalez</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/sean-mcmahon">Sean McMahon</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/kristina-j-anderson-teixeira">Kristina Teixeira</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="http://www.forestgeo.si.edu/">CTFS-ForestGEO</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/forestgeo/fgeo.biomass"><img src="https://travis-ci.org/forestgeo/fgeo.biomass.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://coveralls.io/r/forestgeo/fgeo.biomass?branch=master"><img src="https://coveralls.io/repos/github/forestgeo/fgeo.biomass/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=fgeo.biomass"><embed src="https://www.r-pkg.org/badges/version/fgeo.biomass"></embed></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/maurolepore">Mauro Lepore</a>, <a href="https://forestgeo.si.edu/arellano-gabriel">Gabriel Arellano</a>, <a href="https://forestgeo.si.edu/stuart-j-davies">Stuart Davies</a>, <a href="https://github.com/gonzalezeb">Erika Gonzalez</a>, <a href="https://forestgeo.si.edu/sean-mcmahon">Sean McMahon</a>, <a href="https://forestgeo.si.edu/kristina-j-anderson-teixeira">Kristina Teixeira</a>, <a href="http://www.forestgeo.si.edu/">CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
