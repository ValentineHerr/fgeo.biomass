<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculate Biomass with the Best Available Allometries • fgeo.biomass</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Calculate Biomass with the Best Available Allometries">
<meta property="og:description" content="Calculate biomass with the best available
    allometries.  allodb package.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fgeo.biomass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.biomass">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="calculate-biomass" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#calculate-biomass" class="anchor"></a><img src="https://i.imgur.com/vTLlhbp.png" align="right" height="88"> Calculate biomass</h1></div>

<p>The goal of <strong>fgeo.biomass</strong> is to calculate biomass using allometric equations from the <strong>allodb</strong> package.</p>
<div id="warning" class="section level2">
<h2 class="hasAnchor">
<a href="#warning" class="anchor"></a>Warning</h2>
<p>This package is not ready for research. This is work in progress and you are encouraged to try this package and suggest improvements but you should not trust the results yet.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of <strong>fgeo.biomass</strong>:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports"># install.packages("devtools")
devtools::install_github("forestgeo/fgeo.biomass")</a></code></pre>
<p>For details on how to install packages from GitHub, see <a href="https://goo.gl/dQKEeg">this article</a>.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(fgeo.biomass)</a></code></pre></div>
<div id="overview" class="section level3">
<h3 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">census &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_tree1</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">species &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_species</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">census_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species, <span class="st">"scbi"</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">census_species</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; # A tibble: 40,283 x 4</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;    rowid site  sp                     dbh</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  * &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  1     1 scbi  lindera benzoin       27.9</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  2     2 scbi  lindera benzoin       23.7</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  3     3 scbi  lindera benzoin       22.2</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  4     4 scbi  nyssa sylvatica      135  </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  5     5 scbi  hamamelis virginiana  87  </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  6     6 scbi  hamamelis virginiana  22.5</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  7     7 scbi  unidentified unk      42.6</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;  8     8 scbi  lindera benzoin       51.4</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt;  9     9 scbi  viburnum prunifolium  38.3</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; 10    10 scbi  asimina triloba       14.5</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; # … with 40,273 more rows</span></a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">species_overwrites_genus &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"species"</span>, <span class="st">"genus"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>(species_overwrites_genus) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; # A tibble: 14,572 x 10</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  1 species      4 scbi  nyss… 135   8da09d      1.54… default   </span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  2 species     21 scbi  liri… 232.  34fe5a      1.02… default   </span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  3 species     29 scbi  acer… 326.  7c72ed      exp(… default   </span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  4 species     38 scbi  frax…  42.8 0edaff      0.16… default   </span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  5 species     72 scbi  acer… 289.  7c72ed      exp(… default   </span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  6 species     77 scbi  quer… 636.  07dba7      1.56… default   </span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;  7 species     79 scbi  tili… 475   3f99ba      1.44… default   </span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt;  8 species     79 scbi  tili… 475   76d19b      0.00… default   </span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt;  9 species     84 scbi  frax… 170.  0edaff      0.16… default   </span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 10 species     89 scbi  fagu…  27.2 74186d      2.03… default   </span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; # … with 14,562 more rows, and 2 more variables: anatomic_relevance &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; #   biomass &lt;dbl&gt;</span></a></code></pre></div>
</div>
<div id="step-by-step" class="section level3">
<h3 class="hasAnchor">
<a href="#step-by-step" class="anchor"></a>Step by step</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">census &lt;-<span class="st"> </span>fgeo.biomass<span class="op">::</span>scbi_tree1</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">dbh_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species, <span class="dt">site =</span> <span class="st">"scbi"</span>)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">dbh_species</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; # A tibble: 40,283 x 4</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;    rowid site  sp                     dbh</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  * &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  1     1 scbi  lindera benzoin       27.9</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  2     2 scbi  lindera benzoin       23.7</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  3     3 scbi  lindera benzoin       22.2</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  4     4 scbi  nyssa sylvatica      135  </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  5     5 scbi  hamamelis virginiana  87  </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;  6     6 scbi  hamamelis virginiana  22.5</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;  7     7 scbi  unidentified unk      42.6</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;  8     8 scbi  lindera benzoin       51.4</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;  9     9 scbi  viburnum prunifolium  38.3</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; 10    10 scbi  asimina triloba       14.5</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt; # … with 40,273 more rows</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"></a>
<a class="sourceLine" id="cb5-22" data-line-number="22">equations &lt;-<span class="st"> </span>dbh_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>()</a>
<a class="sourceLine" id="cb5-24" data-line-number="24"></a>
<a class="sourceLine" id="cb5-25" data-line-number="25">equations</a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;   eqn_type       data                 </span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;               </span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 8]&gt; </span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt; 2 genus          &lt;tibble [5,642 × 8]&gt; </span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt; 3 mixed_hardwood &lt;tibble [5,516 × 8]&gt; </span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt; 4 family         &lt;tibble [10,141 × 8]&gt;</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt; 5 woody_species  &lt;tibble [0 × 8]&gt;</span></a></code></pre></div>
</div>
<div id="general-manipulation-of-equations" class="section level3">
<h3 class="hasAnchor">
<a href="#general-manipulation-of-equations" class="anchor"></a>General manipulation of equations</h3>
<p>You can use general purpose tools to manipulate the nested dataframe of equations. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(eqn_type <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"species"</span>, <span class="st">"mixed_hardwood"</span>))</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;   eqn_type       data                </span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;              </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 8]&gt;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 2 mixed_hardwood &lt;tibble [5,516 × 8]&gt;</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co"># Same</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;   eqn_type       data                </span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;              </span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; 1 species        &lt;tibble [8,930 × 8]&gt;</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; 2 mixed_hardwood &lt;tibble [5,516 × 8]&gt;</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"></a>
<a class="sourceLine" id="cb6-18" data-line-number="18">equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/unnest.html">unnest</a></span>()</a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; # A tibble: 14,446 x 9</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt;  1 species      4 scbi  nyss… 135   8da09d      1.54… default   </span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt;  2 species     21 scbi  liri… 232.  34fe5a      1.02… default   </span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt;  3 species     29 scbi  acer… 326.  7c72ed      exp(… default   </span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt;  4 species     38 scbi  frax…  42.8 0edaff      0.16… default   </span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt;  5 species     72 scbi  acer… 289.  7c72ed      exp(… default   </span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt;  6 species     77 scbi  quer… 636.  07dba7      1.56… default   </span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt;  7 species     79 scbi  tili… 475   3f99ba      1.44… default   </span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt;  8 species     79 scbi  tili… 475   76d19b      0.00… default   </span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt;  9 species     84 scbi  frax… 170.  0edaff      0.16… default   </span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt; 10 species     89 scbi  fagu…  27.2 74186d      2.03… default   </span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt; # … with 14,436 more rows, and 1 more variable: anatomic_relevance &lt;chr&gt;</span></a></code></pre></div>
</div>
<div id="provide-custom-equations" class="section level3">
<h3 class="hasAnchor">
<a href="#provide-custom-equations" class="anchor"></a>Provide custom equations</h3>
<p>You may have your own equations. Use <code><a href="reference/as_eqn.html">as_eqn()</a></code> to ensure your data has the correct structure.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># Checks that the structure of your data isn't terriby wrong</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co"># BAD</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="reference/as_eqn.html">as_eqn</a></span>(<span class="st">"really bad data"</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Error in validate_eqn(data): is.data.frame(data) is not TRUE</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw"><a href="reference/as_eqn.html">as_eqn</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; Error: Ensure your data set has these variables:</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; equation_id, site, sp, eqn, eqn_type, anatomic_relevance</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co"># GOOD</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10">your_equations &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">  <span class="dt">equation_id =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"000001"</span>),</a>
<a class="sourceLine" id="cb7-12" data-line-number="12">  <span class="dt">site =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"scbi"</span>),</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">  <span class="dt">sp =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"paulownia tomentosa"</span>),</a>
<a class="sourceLine" id="cb7-14" data-line-number="14">  <span class="dt">eqn =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"exp(-2.48 + 2.4835 * log(dbh))"</span>),</a>
<a class="sourceLine" id="cb7-15" data-line-number="15">  <span class="dt">eqn_type =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"mixed_hardwood"</span>),</a>
<a class="sourceLine" id="cb7-16" data-line-number="16">  <span class="dt">anatomic_relevance =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"total aboveground biomass"</span>)</a>
<a class="sourceLine" id="cb7-17" data-line-number="17">)</a>
<a class="sourceLine" id="cb7-18" data-line-number="18"></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(<span class="kw"><a href="reference/as_eqn.html">as_eqn</a></span>(your_equations))</a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt; [1] "eqn"        "tbl_df"     "tbl"        "data.frame"</span></a></code></pre></div>
<p>You can now use the argument <code>custom_eqn</code> to pass your custom equations to <code><a href="reference/allo_find.html">allo_find()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>(census_species, <span class="dt">custom_eqn =</span> <span class="kw"><a href="reference/as_eqn.html">as_eqn</a></span>(your_equations))</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1 x 2</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt;   eqn_type       data            </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt;   &lt;chr&gt;          &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; 1 mixed_hardwood &lt;tibble [3 × 8]&gt;</span></a></code></pre></div>
<p>This is what the entire workflow looks like:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">dbh_species <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>(<span class="dt">custom_eqn =</span> <span class="kw"><a href="reference/as_eqn.html">as_eqn</a></span>(your_equations)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt; # A tibble: 3 x 10</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;   eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;   &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt; 1 mixed_h…  9645 scbi  paul…  462. 000001      exp(… custom    </span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt; 2 mixed_h… 10838 scbi  paul…  363. 000001      exp(… custom    </span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; 3 mixed_h… 10842 scbi  paul…  531. 000001      exp(… custom    </span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; # … with 2 more variables: anatomic_relevance &lt;chr&gt;, biomass &lt;dbl&gt;</span></a></code></pre></div>
</div>
<div id="calculate-biomass-1" class="section level3">
<h3 class="hasAnchor">
<a href="#calculate-biomass-1" class="anchor"></a>Calculate biomass</h3>
<p>Calculate biomass of a stem by evaluating each allometric equation based on its corresponding <code>dbh</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">best &lt;-<span class="st"> </span>equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_order.html">allo_order</a></span>()</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">best</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; # A tibble: 30,229 x 9</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt;  1 family       1 scbi  lind…  27.9 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;  2 family       2 scbi  lind…  23.7 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt;  3 family       3 scbi  lind…  22.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt;  4 family       8 scbi  lind…  51.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt;  5 family      13 scbi  lind…  15.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt;  6 family      14 scbi  lind…  14.8 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt;  7 family      15 scbi  lind…  15.5 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;  8 family      16 scbi  lind…  17.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">#&gt;  9 family      17 scbi  lind…  68.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">#&gt; 10 family      18 scbi  lind…  19.3 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">#&gt; # … with 30,219 more rows, and 1 more variable: anatomic_relevance &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"></a>
<a class="sourceLine" id="cb10-20" data-line-number="20">with_biomass &lt;-<span class="st"> </span>best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-21" data-line-number="21"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb10-22" data-line-number="22"></a>
<a class="sourceLine" id="cb10-23" data-line-number="23">with_biomass</a>
<a class="sourceLine" id="cb10-24" data-line-number="24"><span class="co">#&gt; # A tibble: 30,229 x 10</span></a>
<a class="sourceLine" id="cb10-25" data-line-number="25"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb10-26" data-line-number="26"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb10-27" data-line-number="27"><span class="co">#&gt;  1 family       1 scbi  lind…  27.9 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-28" data-line-number="28"><span class="co">#&gt;  2 family       2 scbi  lind…  23.7 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-29" data-line-number="29"><span class="co">#&gt;  3 family       3 scbi  lind…  22.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-30" data-line-number="30"><span class="co">#&gt;  4 family       8 scbi  lind…  51.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-31" data-line-number="31"><span class="co">#&gt;  5 family      13 scbi  lind…  15.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-32" data-line-number="32"><span class="co">#&gt;  6 family      14 scbi  lind…  14.8 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-33" data-line-number="33"><span class="co">#&gt;  7 family      15 scbi  lind…  15.5 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-34" data-line-number="34"><span class="co">#&gt;  8 family      16 scbi  lind…  17.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-35" data-line-number="35"><span class="co">#&gt;  9 family      17 scbi  lind…  68.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-36" data-line-number="36"><span class="co">#&gt; 10 family      18 scbi  lind…  19.3 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb10-37" data-line-number="37"><span class="co">#&gt; # … with 30,219 more rows, and 2 more variables: anatomic_relevance &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb10-38" data-line-number="38"><span class="co">#&gt; #   biomass &lt;dbl&gt;</span></a></code></pre></div>
<p>Summarize the results as you would normally do with general purpose tools.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">with_biomass <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(sp) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="dt">total_biomass =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(biomass, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(total_biomass))</a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; # A tibble: 52 x 2</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt;    sp                      total_biomass</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;                           &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;  1 platanus occidentalis         2.24e17</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt;  2 nyssa sylvatica               5.07e16</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt;  3 liriodendron tulipifera       4.63e10</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt;  4 acer rubrum                   1.31e10</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;  5 quercus alba                  1.26e10</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt;  6 quercus falcata               9.21e 9</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;  7 quercus velutina              7.47e 9</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;  8 sassafras albidum             6.37e 9</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt;  9 quercus rubra                 4.64e 9</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; 10 fraxinus americana            2.80e 9</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; # … with 42 more rows</span></a></code></pre></div>
</div>
<div id="memoization" class="section level3">
<h3 class="hasAnchor">
<a href="#memoization" class="anchor"></a>Memoization</h3>
<blockquote>
<p>If a function is called multiple times with the same input, you can often speed things up by keeping a cache of known answers that it can retrieve. This is called memoisation <a href="http://en.wikipedia.org/wiki/Memoization" class="uri">http://en.wikipedia.org/wiki/Memoization</a>.</p>
</blockquote>
<p>– <a href="https://github.com/r-lib/memoise" class="uri">https://github.com/r-lib/memoise</a></p>
<p>Because <code><a href="reference/allo_evaluate.html">allo_evaluate()</a></code> can be slow, its result is stored and reused after the first time you run it.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># Clear cache to show how it works</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">memoise<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/memoise/topics/forget">forget</a></span>(allo_evaluate)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co"># `allo_evaluate()` may be slow the first time you run it</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>(<span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>(best))</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;   1.156   0.000   1.158</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">memoise<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/memoise/topics/is.memoised">is.memoised</a></span>(allo_evaluate)</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co"># Calls after the first one take almost no time</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>(<span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>(best))</a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt;   0.040   0.000   0.042</span></a></code></pre></div>
</div>
<div id="known-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#known-issues" class="anchor"></a>Known issues</h3>
<p>Right now there may be multiple rows per <code>rowid</code>. This is because, for a single stem, there may be multiple equations to reflect the allometries of different parts of the stem. <strong>fgeo.biomass</strong> doesn’t handle this issue yet; it only helps you to find and remove the problematic equations.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_find_duplicated_rowid</a></span>()</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1,809 x 10</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;  1 genus      106 scbi  amel…  13.8 c59e03      exp(… default   </span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;  2 genus      106 scbi  amel…  13.8 96c0af      10^(… default   </span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  3 genus      106 scbi  amel…  13.8 529234      10^(… default   </span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  4 genus      125 scbi  amel…  36.1 c59e03      exp(… default   </span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  5 genus      125 scbi  amel…  36.1 96c0af      10^(… default   </span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  6 genus      125 scbi  amel…  36.1 529234      10^(… default   </span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  7 genus      131 scbi  amel…  79.1 c59e03      exp(… default   </span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  8 genus      131 scbi  amel…  79.1 96c0af      10^(… default   </span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;  9 genus      131 scbi  amel…  79.1 529234      10^(… default   </span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; 10 genus      132 scbi  amel…  24   c59e03      exp(… default   </span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; # … with 1,799 more rows, and 2 more variables: anatomic_relevance &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; #   n &lt;int&gt;</span></a></code></pre></div>
<p>Here you enter the danger zone. <strong>fgeo.biomass</strong> provides a quick and dirty way of getting a single equation per stem: <code><a href="reference/handle_multiple_rowid.html">fixme_drop_duplicated_rowid()</a></code> drops all rows where <code>rowid</code> appears more than once in the dataset.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">incomplete &lt;-<span class="st"> </span>best <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_drop_duplicated_rowid</a></span>()</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt; Warning: Dropping 783 rows with duplicated `rowid` values.</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">incomplete</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; # A tibble: 28,420 x 9</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt;  1 family       1 scbi  lind…  27.9 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt;  2 family       2 scbi  lind…  23.7 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt;  3 family       3 scbi  lind…  22.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt;  4 family       8 scbi  lind…  51.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt;  5 family      13 scbi  lind…  15.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt;  6 family      14 scbi  lind…  14.8 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt;  7 family      15 scbi  lind…  15.5 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt;  8 family      16 scbi  lind…  17.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt;  9 family      17 scbi  lind…  68.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="co">#&gt; 10 family      18 scbi  lind…  19.3 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="co">#&gt; # … with 28,410 more rows, and 1 more variable: anatomic_relevance &lt;chr&gt;</span></a></code></pre></div>
<p>Dropping useful equations is extreme but conservative. We hope to soon provide an easy way to sum biomass across multiple parts of a tree. Until then you will have to do it yourself.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># No longer has duplicated rowid</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">incomplete <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/handle_multiple_rowid.html">fixme_find_duplicated_rowid</a></span>()</a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt; # A tibble: 0 x 10</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; # … with 10 variables: eqn_type &lt;chr&gt;, rowid &lt;int&gt;, site &lt;chr&gt;, sp &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; #   dbh &lt;dbl&gt;, equation_id &lt;chr&gt;, eqn &lt;chr&gt;, eqn_source &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; #   anatomic_relevance &lt;chr&gt;, n &lt;int&gt;</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"></a>
<a class="sourceLine" id="cb15-9" data-line-number="9">incomplete <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="reference/allo_evaluate.html">allo_evaluate</a></span>()</a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; # A tibble: 28,420 x 10</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;    eqn_type rowid site  sp      dbh equation_id eqn   eqn_source</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt;  1 family       1 scbi  lind…  27.9 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt;  2 family       2 scbi  lind…  23.7 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;  3 family       3 scbi  lind…  22.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt;  4 family       8 scbi  lind…  51.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt;  5 family      13 scbi  lind…  15.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt;  6 family      14 scbi  lind…  14.8 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt;  7 family      15 scbi  lind…  15.5 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt;  8 family      16 scbi  lind…  17.4 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt;  9 family      17 scbi  lind…  68.2 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; 10 family      18 scbi  lind…  19.3 f08fff      exp(… default   </span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; # … with 28,410 more rows, and 2 more variables: anatomic_relevance &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; #   biomass &lt;dbl&gt;</span></a></code></pre></div>
</div>
<div id="add-equations-for-each-row-of-your-census-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#add-equations-for-each-row-of-your-census-dataset" class="anchor"></a>Add equations for each row of your census dataset</h3>
<p>The <code>rowid</code>s were generated from the row-names of your original census data. Now that you have a single row per <code>rowid</code>, you can add the equations to your census data. The two datasets will be joint by matching values of <code>rowid</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">census_equations &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/add_equations.html">add_equations</a></span>(incomplete)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt; Joining, by = "rowid"</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">census_equations</a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; # A tibble: 40,283 x 23</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt;    rowid treeID stemID tag   StemTag sp    quadrat    gx    gy DBHID</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt;  1     1      1      1 10079 1       libe  0104     3.70  73       1</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt;  2     2      2      2 10168 1       libe  0103    17.3   58.9     3</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt;  3     3      3      3 10567 1       libe  0110     9    197.      5</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt;  4     4      4      4 12165 1       nysy  0122    14.2  428.      7</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">#&gt;  5     5      5      5 12190 1       havi  0122     9.40 436.      9</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co">#&gt;  6     6      6      6 12192 1       havi  0122     1.30 434      13</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co">#&gt;  7     7      7      7 12212 1       unk   0123    17.8  447.     15</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co">#&gt;  8     8      8      8 12261 1       libe  0125    18    484.     17</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co">#&gt;  9     9      9      9 12456 1       vipr  0130    18    598.     19</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18"><span class="co">#&gt; 10    10     10     10 12551 1       astr  0132     5.60 628.     22</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="co">#&gt; # … with 40,273 more rows, and 13 more variables: CensusID &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20"><span class="co">#&gt; #   dbh &lt;dbl&gt;, pom &lt;chr&gt;, hom &lt;dbl&gt;, ExactDate &lt;chr&gt;, DFstatus &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-21" data-line-number="21"><span class="co">#&gt; #   codes &lt;chr&gt;, nostems &lt;dbl&gt;, date &lt;dbl&gt;, status &lt;chr&gt;, agb &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb16-22" data-line-number="22"><span class="co">#&gt; #   eqn &lt;chr&gt;, equation_id &lt;chr&gt;</span></a></code></pre></div>
<p>If you need more information about each equation, <code><a href="reference/allo_lookup.html">allo_lookup()</a></code> helps you to look it up in <strong>allodb</strong>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">census_equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_lookup.html">allo_lookup</a></span>(allodb<span class="op">::</span>equations)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; Joining, by = "equation_id"</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; # A tibble: 40,283 x 23</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt;    rowid equation_id ref_id equation_allome… equation_form dependent_varia…</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt;  1     1 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt;  2     2 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt;  3     3 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt;  4     4 8da09d      jenki… 1.5416*(dbh^2)^… a*(DBH^2)^b   Stem and branch…</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt;  5     5 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt;  6     6 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt;  7     7 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt;  8     8 f08fff      chojn… exp(-2.2118+2.4… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt;  9     9 &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;             &lt;NA&gt;          &lt;NA&gt;            </span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; 10    10 ae65ed      jenki… exp(-2.48+2.483… exp(a+b*ln(D… Total abovegrou…</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; # … with 40,273 more rows, and 17 more variables:</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; #   independent_variable &lt;chr&gt;, allometry_specificity &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; #   geographic_area &lt;chr&gt;, dbh_min_cm &lt;chr&gt;, dbh_max_cm &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt; #   sample_size &lt;chr&gt;, dbh_units_original &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; #   biomass_units_original &lt;chr&gt;, allometry_development_method &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; #   regression_model &lt;chr&gt;, other_equations_tested &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; #   log_biomass &lt;chr&gt;, bias_corrected &lt;chr&gt;, bias_correction_factor &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="co">#&gt; #   notes_fitting_model &lt;chr&gt;, original_data_availability &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; #   warning &lt;chr&gt;</span></a></code></pre></div>
</div>
<div id="planned-enhancements" class="section level3">
<h3 class="hasAnchor">
<a href="#planned-enhancements" class="anchor"></a>Planned enhancements</h3>
<p>This section shows pseudo-code: Code that doesn’t actually run but shows what it would look like if it did work.</p>
<ul>
<li>Add <code>site</code> during construction, e.g. <code>as_species(data, site = "scbi")</code> and drop the <code>site</code> argument to <code><a href="reference/add_species.html">add_species()</a></code>.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">census_species &lt;-<span class="st"> </span>census <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/add_species.html">add_species</a></span>(species)</a></code></pre></div>
<ul>
<li>New single interface to automatically calculates biomass.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="st">  </span><span class="kw">auto_biomass</span>()</a></code></pre></div>
<ul>
<li>New single interface to automatically add equations to a census dataframe.</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="st">  </span><span class="kw">auto_equations</span>()</a></code></pre></div>
<ul>
<li>Helper to replace specific equations.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">census_species <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/allo_find.html">allo_find</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="st">  </span><span class="kw">allo_replace</span>(</a>
<a class="sourceLine" id="cb21-4" data-line-number="4">    <span class="dt">eqn_id =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"abcd"</span>, <span class="st">"efgh"</span>),</a>
<a class="sourceLine" id="cb21-5" data-line-number="5">    <span class="dt">eqn =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"2.0394 * (dbh^2.5715)"</span>, <span class="st">"2.0394 * (dbh^2.5715)"</span>)</a>
<a class="sourceLine" id="cb21-6" data-line-number="6">  )</a></code></pre></div>
</div>
<div id="fgeo-biomass-and-allodb" class="section level3">
<h3 class="hasAnchor">
<a href="#fgeo-biomass-and-allodb" class="anchor"></a>fgeo.biomass and allodb</h3>
<p>Allometric equations come from the <strong>allodb</strong> package.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="co"># Internal</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">fgeo.biomass<span class="op">:::</span>.default_eqn</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co">#&gt; # A tibble: 620 x 7</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co">#&gt;    equation_id site   sp      eqn      eqn_source eqn_type anatomic_releva…</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt;  1 2060ea      lilly… acer r… 10^(1.1… default    species  total abovegrou…</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">#&gt;  2 2060ea      tyson  acer r… 10^(1.1… default    species  total abovegrou…</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt;  3 a4d879      lilly… acer s… 10^(1.2… default    species  total abovegrou…</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#&gt;  4 a4d879      tyson  acer s… 10^(1.2… default    species  total abovegrou…</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt;  5 c59e03      lilly… amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">#&gt;  6 c59e03      scbi   amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">#&gt;  7 c59e03      serc   amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="co">#&gt;  8 c59e03      serc   amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14"><span class="co">#&gt;  9 c59e03      tyson  amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="co">#&gt; 10 c59e03      umbc   amelan… exp(7.2… default    genus    stem biomass (w…</span></a>
<a class="sourceLine" id="cb22-16" data-line-number="16"><span class="co">#&gt; # … with 610 more rows</span></a></code></pre></div>
<p>For now we are excluding some equations.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># Internal</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">excluding &lt;-<span class="st"> </span>fgeo.biomass<span class="op">:::</span>.bad_eqn_id</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4">allodb<span class="op">::</span>equations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(equation_id <span class="op">%in%</span><span class="st"> </span>excluding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(equation_id, equation_allometry)</a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co">#&gt; # A tibble: 24 x 2</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="co">#&gt;    equation_id equation_allometry         </span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                      </span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co">#&gt;  1 76aa3c      38.111*(dba^2.9)           </span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="co">#&gt;  2 28dce6      51.996*(dba^2.77)          </span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="co">#&gt;  3 a1646f      37.637*(dba^2.779)         </span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co">#&gt;  4 b61369      43.992*(dba^2.86)          </span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="co">#&gt;  5 5e2dea      29.615*(dba^3.243)         </span></a>
<a class="sourceLine" id="cb23-15" data-line-number="15"><span class="co">#&gt;  6 3cb95a      exp(2.025+3.527*log(dba))  </span></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="co">#&gt;  7 c94845      51.68+0.02*BA              </span></a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="co">#&gt;  8 6b3b2a      exp(3.67+2.847*log(dba))   </span></a>
<a class="sourceLine" id="cb23-18" data-line-number="18"><span class="co">#&gt;  9 b95baf      exp(3.892+3.122*log(dba))  </span></a>
<a class="sourceLine" id="cb23-19" data-line-number="19"><span class="co">#&gt; 10 e8f868      exp(3.6123+2.9944*log(dba))</span></a>
<a class="sourceLine" id="cb23-20" data-line-number="20"><span class="co">#&gt; # … with 14 more rows</span></a></code></pre></div>
</div>
</div>
<div id="information" class="section level2">
<h2 class="hasAnchor">
<a href="#information" class="anchor"></a>Information</h2>
<ul>
<li>
<a href="SUPPORT.html">Getting help</a>.</li>
<li>
<a href="CONTRIBUTING.html">Contributing</a>.</li>
<li>
<a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/forestgeo/fgeo.biomass">https://​github.com/​forestgeo/​fgeo.biomass</a>
</li>
<li>Report a bug at <br><a href="https://github.com/forestgeo/fgeo.biomass/issues">https://​github.com/​forestgeo/​fgeo.biomass/​issues</a>
</li>
<li>Learn more about ForestGEO at <br><a href="http://www.forestgeo.si.edu/">http://​www.forestgeo.si.edu/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/maurolepore">Mauro Lepore</a> <br><small class="roles"> Author, contractor, maintainer </small> <a href="https://orcid.org/0000-0002-1986-7988" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>
<a href="https://forestgeo.si.edu/arellano-gabriel">Gabriel Arellano</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/stuart-j-davies">Stuart Davies</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://github.com/gonzalezeb">Erika Gonzalez</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/sean-mcmahon">Sean McMahon</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="https://forestgeo.si.edu/kristina-j-anderson-teixeira">Kristina Teixeira</a> <br><small class="roles"> Author, reviewer </small>  </li>
<li>
<a href="http://www.forestgeo.si.edu/">CTFS-ForestGEO</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/forestgeo/fgeo.biomass"><img src="https://travis-ci.org/forestgeo/fgeo.biomass.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://coveralls.io/r/forestgeo/fgeo.biomass?branch=master"><img src="https://coveralls.io/repos/github/forestgeo/fgeo.biomass/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=fgeo.biomass"><embed src="https://www.r-pkg.org/badges/version/fgeo.biomass"></embed></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/maurolepore">Mauro Lepore</a>, <a href="https://forestgeo.si.edu/arellano-gabriel">Gabriel Arellano</a>, <a href="https://forestgeo.si.edu/stuart-j-davies">Stuart Davies</a>, <a href="https://github.com/gonzalezeb">Erika Gonzalez</a>, <a href="https://forestgeo.si.edu/sean-mcmahon">Sean McMahon</a>, <a href="https://forestgeo.si.edu/kristina-j-anderson-teixeira">Kristina Teixeira</a>, <a href="http://www.forestgeo.si.edu/">CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
